(function(e,h){function i(j,d,k){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(y,w,z,x,u){function o(){t&&(k.cancel(t),t=null);v&&(v.$destroy(),v=null);r&&(t=k.leave(r),t.then(function(){t=null}),r=null)}function l(){var m=j.current&&j.current.locals;if(h.isDefined(m&&m.$template)){var m=y.$new(),n=j.current;r=u(m,function(p){k.enter(p,null,r||w).then(function(){!h.isDefined(q)||q&&!y.$eval(q)||d()});o()});v=n.scope=m;v.$emit("$viewContentLoaded");v.$eval(C)}else{o()}}var v,r,t,q=z.autoscroll,C=z.onload||"";y.$on("$routeChangeSuccess",l);l()}}}function b(m,j,k){return{restrict:"ECA",priority:-400,link:function(d,q){var l=k.current,r=l.locals;q.html(r.$template);var n=m(q.contents());if(l.controller){r.$scope=d;var o=j(l.controller,r);l.controllerAs&&(d[l.controllerAs]=o);q.data("$ngControllerController",o);q.children().data("$ngControllerController",o)}d[l.resolveAs||"$resolve"]=r;n(d)}}}var a,g,c=h.module("ngRoute",["ng"]).provider("$route",function(){function j(l,m){return h.extend(Object.create(l),m)}function d(l,o){var m=o.caseInsensitiveMatch,p={originalPath:l,regexp:l},n=p.keys=[];l=l.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[\?\*])?/g,function(q,r,s,t){q="?"===t||"*?"===t?"?":null;t="*"===t||"*?"===t?"*":null;n.push({name:s,optional:!!q});r=r||"";return""+(q?"":r)+"(?:"+(q?r:"")+(t&&"(.+?)"||"([^/]+)")+(q||"")+")"+(q||"")}).replace(/([\/$\*])/g,"\\$1");p.regexp=new RegExp("^"+l+"$",m?"i":"");return p}a=h.isArray;g=h.isObject;var k={};this.when=function(l,o){var m;m=void 0;if(a(o)){m=m||[];for(var p=0,n=o.length;p<n;p++){m[p]=o[p]}}else{if(g(o)){for(p in m=m||{},o){if("$"!==p.charAt(0)||"$"!==p.charAt(1)){m[p]=o[p]}}}}m=m||o;h.isUndefined(m.reloadOnSearch)&&(m.reloadOnSearch=!0);h.isUndefined(m.caseInsensitiveMatch)&&(m.caseInsensitiveMatch=this.caseInsensitiveMatch);k[l]=h.extend(m,l&&d(l,m));l&&(p="/"==l[l.length-1]?l.substr(0,l.length-1):l+"/",k[p]=h.extend({redirectTo:l},d(p,m)));return this};this.caseInsensitiveMatch=!1;this.otherwise=function(l){"string"===typeof l&&(l={redirectTo:l});this.when(null,l);return this};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(H,D,J,F,B,q,A){function C(l){var m=L.current;(I=(o=G())&&m&&o.$$route===m.$$route&&h.equals(o.pathParams,m.pathParams)&&!o.reloadOnSearch&&!E)||!m&&!o||H.$broadcast("$routeChangeStart",o,m).defaultPrevented&&l&&l.preventDefault()}function t(){var l=L.current,m=o;if(I){l.params=m.params,h.copy(l.params,J),H.$broadcast("$routeUpdate",l)}else{if(m||l){E=!1,(L.current=m)&&m.redirectTo&&(h.isString(m.redirectTo)?D.path(K(m.redirectTo,m.params)).search(m.params).replace():D.url(m.redirectTo(m.pathParams,D.path(),D.search())).replace()),F.when(m).then(u).then(function(n){m==L.current&&(m&&(m.locals=n,h.copy(m.params,J)),H.$broadcast("$routeChangeSuccess",m,l))},function(n){m==L.current&&H.$broadcast("$routeChangeError",m,l,n)})}}}function u(m){if(m){var l=h.extend({},m.resolve);h.forEach(l,function(n,p){l[p]=h.isString(n)?B.get(n):B.invoke(n,null,null,p)});m=M(m);h.isDefined(m)&&(l.$template=m);return F.all(l)}}function M(m){var l,n;h.isDefined(l=m.template)?h.isFunction(l)&&(l=l(m.params)):h.isDefined(n=m.templateUrl)&&(h.isFunction(n)&&(n=n(m.params)),h.isDefined(n)&&(m.loadedTemplateUrl=A.valueOf(n),l=q(n)));return l}function G(){var m,l;h.forEach(k,function(O,N){var r;if(r=!l){var z=D.path();r=O.keys;var x={};if(O.regexp){if(z=O.regexp.exec(z)){for(var y=1,s=z.length;y<s;++y){var w=r[y-1],v=z[y];w&&v&&(x[w.name]=v)}r=x}else{r=null}}else{r=null}r=m=r}r&&(l=j(O,{params:h.extend({},D.search(),m),pathParams:m}),l.$$route=O)});return l||k[null]&&j(k[null],{params:{},pathParams:{}})}function K(m,l){var n=[];h.forEach((m||"").split(":"),function(p,v){if(0===v){n.push(p)}else{var s=p.match(/(\w+)(?:[?*])?(.*)/),r=s[1];n.push(l[r]);n.push(s[2]||"");delete l[r]}});return n.join("")}var E=!1,o,I,L={routes:k,reload:function(){E=!0;var l={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0;E=!1}};H.$evalAsync(function(){C(l);l.defaultPrevented||t()})},updateParams:function(l){if(this.current&&this.current.$$route){l=h.extend({},this.current.params,l),D.path(K(this.current.$$route.originalPath,l)),D.search(l)}else{throw f("norout")}}};H.$on("$locationChangeStart",C);H.$on("$locationChangeSuccess",t);return L}]}),f=h.$$minErr("ngRoute");c.provider("$routeParams",function(){this.$get=function(){return{}}});c.directive("ngView",i);c.directive("ngView",b);i.$inject=["$route","$anchorScroll","$animate"];b.$inject=["$compile","$controller","$route"]})(window,window.angular);