(function(aC,al){function U(aM){if(aM==null){return""}switch(typeof aM){case"string":return aM;case"number":return""+aM;default:return aG(aM)}}function o(aQ,aO){var aN=aQ.split(/\n/g);for(var aP=0;aP<aN.length;aP++){var aM=aN[aP];if(aO>=aM.length){aO-=aM.length}else{return{line:aP+1,column:aO+1}}}}var ac=Object.create(null);function j(aP){var aM=ac[aP];if(aM!=null){return aM}function aN(aQ){return aP}aN["$$watchDelegate"]=function aO(aS,aT,aR){var aU=aS["$watch"](an,function aQ(){if(av(aT)){aT.call(null,aP,aP,aS)}aU()},aR);return aU};ac[aP]=aN;aN.exp=aP;aN.expressions=[];return aN}function Z(aQ,aP){if(aP===0){return aQ}function aM(aS){return(aS==void 0)?aS:aS-aP}function aN(aS){return aM(aQ(aS))}var aR;aN["$$watchDelegate"]=function aO(aU,aV,aS){aR=aU["$watch"](aQ,function aT(aX,aW){if(av(aV)){aV.call(null,aM(aX),aM(aW),aU)}},aS);return aR};return aN}function O(aO,aP){var aM=this;this.expressionFn=aO;this.choices=aP;if(aP.other===void 0){throw J("reqother","“other” is a required option.")}this.parsedFn=function(aQ){return aM.getResult(aQ)};this.parsedFn["$$watchDelegate"]=function aN(aR,aS,aQ){return aM.watchDelegate(aR,aS,aQ)};this.parsedFn.exp=aO.exp;this.parsedFn.expressions=aO.expressions}O.prototype.getMessageFn=function am(aM){return this.choices[this.categorizeValue(aM)]};O.prototype.getResult=function aa(aM){return this.getMessageFn(this.expressionFn(aM))(aM)};O.prototype.watchDelegate=function l(aN,aP,aM){var aO=new f(this,aN,aP,aM);return function(){aO.cancelWatch()}};function f(aP,aQ,aR,aM){var aO=this;this.scope=aQ;this.msgSelector=aP;this.listener=aR;this.objectEquality=aM;this.lastMessage=void 0;this.messageFnWatcher=an;var aN=function(aT,aS){return aO.expressionFnListener(aT,aS)};this.expressionFnWatcher=aQ["$watch"](aP.expressionFn,aN,aM)}f.prototype.expressionFnListener=function aw(aP,aO){var aM=this;this.messageFnWatcher();var aN=function(aR,aS){return aM.messageFnListener(aR,aS)};var aQ=this.msgSelector.getMessageFn(aP);this.messageFnWatcher=this.scope["$watch"](aQ,aN,this.objectEquality)};f.prototype.messageFnListener=function ah(aM,aN){if(av(this.listener)){this.listener.call(null,aM,aM===aN?aM:this.lastMessage,this.scope)}this.lastMessage=aM};f.prototype.cancelWatch=function at(){this.expressionFnWatcher();this.messageFnWatcher()};function g(aM,aN){O.call(this,aM,aN)}function ab(){}ab.prototype=O.prototype;g.prototype=new ab();g.prototype.categorizeValue=function aI(aM){return(this.choices[aM]!==void 0)?aM:"other"};function w(aO,aP,aN,aM){O.call(this,aO,aP);this.offset=aN;this.pluralCat=aM}function p(){}p.prototype=O.prototype;w.prototype=new p();w.prototype.categorizeValue=function ay(aN){if(isNaN(aN)){return"other"}else{if(this.choices[aN]!==void 0){return aN}else{var aM=this.pluralCat(aN-this.offset);return(this.choices[aM]!==void 0)?aM:"other"}}};function k(aM,aN){this.trustedContext=aM;this.allOrNothing=aN;this.textParts=[];this.expressionFns=[];this.expressionIndices=[];this.partialText="";this.concatParts=null}k.prototype.flushPartialText=function A(){if(this.partialText){if(this.concatParts==null){this.textParts.push(this.partialText)}else{this.textParts.push(this.concatParts.join(""));this.concatParts=null}this.partialText=""}};k.prototype.addText=function B(aM){if(aM.length){if(!this.partialText){this.partialText=aM}else{if(this.concatParts){this.concatParts.push(aM)}else{this.concatParts=[this.partialText,aM]}}}};k.prototype.addExpressionFn=function a(aM){this.flushPartialText();this.expressionIndices.push(this.textParts.length);this.expressionFns.push(aM);this.textParts.push("")};k.prototype.getExpressionValues=function aA(aO){var aM=new Array(this.expressionFns.length);for(var aN=0;aN<this.expressionFns.length;aN++){aM[aN]=this.expressionFns[aN](aO)}return aM};k.prototype.getResult=function aa(aN){for(var aO=0;aO<this.expressionIndices.length;aO++){var aM=aN[aO];if(this.allOrNothing&&aM===void 0){return}this.textParts[this.expressionIndices[aO]]=aM}return this.textParts.join("")};k.prototype.toParsedFn=function d(aM,aR){var aN=this;this.flushPartialText();if(aM&&this.expressionFns.length===0){return void 0}if(this.textParts.length===0){return j("")}if(this.trustedContext&&this.textParts.length>1){J.throwNoconcat(aR)}if(this.expressionFns.length===0){if(this.textParts.length!=1){this.errorInParseLogic()}return j(this.textParts[0])}var aQ=function(aS){return aN.getResult(aN.getExpressionValues(aS))};aQ["$$watchDelegate"]=function aP(aT,aU,aS){return aN.watchDelegate(aT,aU,aS)};aQ.exp=aR;aQ.expressions=new Array(this.expressionFns.length);for(var aO=0;aO<this.expressionFns.length;aO++){aQ.expressions[aO]=this.expressionFns[aO]["exp"]}return aQ};k.prototype.watchDelegate=function l(aO,aP,aM){var aN=new aD(this,aO,aP,aM);return function(){aN.cancelWatch()}};function aD(aP,aO,aQ,aM){this.interpolationParts=aP;this.scope=aO;this.previousResult=(void 0);this.listener=aQ;var aN=this;this.expressionFnsWatcher=aO["$watchGroup"](aP.expressionFns,function(aS,aR){aN.watchListener(aS,aR)})}aD.prototype.watchListener=function x(aO,aN){var aM=this.interpolationParts.getResult(aO);if(av(this.listener)){this.listener.call(null,aM,aO===aN?aM:this.previousResult,this.scope)}this.previousResult=aM};aD.prototype.cancelWatch=function at(){this.expressionFnsWatcher()};function aK(aM,aN){aN.expressionFn=aM.expressionFn;aN.expressionMinusOffsetFn=aM.expressionMinusOffsetFn;aN.pluralOffset=aM.pluralOffset;aN.choices=aM.choices;aN.choiceKey=aM.choiceKey;aN.interpolationParts=aM.interpolationParts;aN.ruleChoiceKeyword=aM.ruleChoiceKeyword;aN.msgStartIndex=aM.msgStartIndex;aN.expressionStartIndex=aM.expressionStartIndex}function Y(aM){aK(aM,this)}function ad(aT,aS,aQ,aP,aM,aN,aO,aR){this.text=aT;this.index=aS||0;this.$parse=aQ;this.pluralCat=aP;this.stringifier=aM;this.mustHaveExpression=!!aN;this.trustedContext=aO;this.allOrNothing=!!aR;this.expressionFn=null;this.expressionMinusOffsetFn=null;this.pluralOffset=null;this.choices=null;this.choiceKey=null;this.interpolationParts=null;this.msgStartIndex=null;this.nestedStateStack=[];this.parsedFn=null;this.rule=null;this.ruleStack=null;this.ruleChoiceKeyword=null;this.interpNestLevel=null;this.expressionStartIndex=null;this.stringStartIndex=null;this.stringQuote=null;this.stringInterestsRe=null;this.angularOperatorStack=null;this.textPart=null}var e=new Y(new ad("",0,null,null,null,false,null,false));ad.prototype.pushState=function ap(){this.nestedStateStack.push(new Y(this));aK(e,this)};ad.prototype.popState=function aE(){if(this.nestedStateStack.length===0){this.errorInParseLogic()}var aM=this.nestedStateStack.pop();aK(aM,this)};ad.prototype.matchRe=function v(aO,aN){aO.lastIndex=this.index;var aM=aO.exec(this.text);if(aM!=null&&(aN===true||(aM.index==this.index))){this.index=aO.lastIndex;return aM}return null};ad.prototype.searchRe=function ak(aM){return this.matchRe(aM,true)};ad.prototype.consumeRe=function y(aM){return !!this.matchRe(aM)};ad.prototype.run=function ax(aM){this.ruleStack=[aM];do{this.rule=this.ruleStack.pop();while(this.rule){this.rule()}this.assertRuleOrNull(this.rule)}while(this.ruleStack.length>0)};ad.prototype.errorInParseLogic=function aB(){throw J("logicbug","The messageformat parser has encountered an internal error.  Please file a github issue against the AngularJS project and provide this message text that triggers the bug.  Text: “{0}”",this.text)};ad.prototype.assertRuleOrNull=function ai(aM){if(aM===void 0){this.errorInParseLogic()}};var V=/\s*(\w+)\s*/g;ad.prototype.errorExpecting=function E(){var aN=this.matchRe(V),aM;if(aN==null){aM=o(this.text,this.index);throw J("reqarg","Expected one of “plural” or “select” at line {0}, column {1} of text “{2}”",aM.line,aM.column,this.text)}var aO=aN[1];if(aO=="select"||aO=="plural"){aM=o(this.text,this.index);throw J("reqcomma","Expected a comma after the keyword “{0}” at line {1}, column {2} of text “{3}”",aO,aM.line,aM.column,this.text)}else{aM=o(this.text,this.index);throw J("unknarg","Unsupported keyword “{0}” at line {0}, column {1}. Only “plural” and “select” are currently supported.  Text: “{3}”",aO,aM.line,aM.column,this.text)}};var aq=/['"]/g;ad.prototype.ruleString=function aF(){var aN=this.matchRe(aq);if(aN==null){var aM=o(this.text,this.index);throw J("wantstring","Expected the beginning of a string at line {0}, column {1} in text “{2}”",aM.line,aM.column,this.text)}this.startStringAtMatch(aN)};ad.prototype.startStringAtMatch=function N(aM){this.stringStartIndex=aM.index;this.stringQuote=aM[0];this.stringInterestsRe=this.stringQuote=="'"?ao:u;this.rule=this.ruleInsideString};var ao=/\\(?:\\|'|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{2}|[0-7]{3}|\r\n|\n|[\s\S])|'/g;var u=/\\(?:\\|"|u[0-9A-Fa-f]{4}|x[0-9A-Fa-f]{2}|[0-7]{3}|\r\n|\n|[\s\S])|"/g;ad.prototype.ruleInsideString=function C(){var aN=this.searchRe(this.stringInterestsRe);if(aN==null){var aM=o(this.text,this.stringStartIndex);throw J("untermstr","The string beginning at line {0}, column {1} is unterminated in text “{2}”",aM.line,aM.column,this.text)}var aO=aN[0];if(aN==this.stringQuote){this.rule=null}};var M=/\s*(plural|select)\s*,\s*/g;ad.prototype.rulePluralOrSelect=function W(){var aN=this.searchRe(M);if(aN==null){this.errorExpecting()}var aM=aN[1];switch(aM){case"plural":this.rule=this.rulePluralStyle;break;case"select":this.rule=this.ruleSelectStyle;break;default:this.errorInParseLogic()}};ad.prototype.rulePluralStyle=function n(){this.choices=Object.create(null);this.ruleChoiceKeyword=this.rulePluralValueOrKeyword;this.rule=this.rulePluralOffset};ad.prototype.ruleSelectStyle=function t(){this.choices=Object.create(null);this.ruleChoiceKeyword=this.ruleSelectKeyword;this.rule=this.ruleSelectKeyword};var r=/[0]|(?:[1-9][0-9]*)/g;var au=new RegExp("\\s*offset\\s*:\\s*("+r.source+")","g");ad.prototype.rulePluralOffset=function X(){var aM=this.matchRe(au);this.pluralOffset=(aM==null)?0:parseInt(aM[1],10);this.expressionMinusOffsetFn=Z(this.expressionFn,this.pluralOffset);this.rule=this.rulePluralValueOrKeyword};ad.prototype.assertChoiceKeyIsNew=function aL(aO,aN){if(this.choices[aO]!==void 0){var aM=o(this.text,aN);throw J("dupvalue","The choice “{0}” is specified more than once. Duplicate key is at line {1}, column {2} in text “{3}”",aO,aM.line,aM.column,this.text)}};var h=/\s*(\w+)/g;ad.prototype.ruleSelectKeyword=function q(){var aM=this.matchRe(h);if(aM==null){this.parsedFn=new g(this.expressionFn,this.choices).parsedFn;this.rule=null;return}this.choiceKey=aM[1];this.assertChoiceKeyIsNew(this.choiceKey,aM.index);this.rule=this.ruleMessageText};var T=new RegExp("\\s*(?:(?:=("+r.source+"))|(\\w+))","g");ad.prototype.rulePluralValueOrKeyword=function ae(){var aM=this.matchRe(T);if(aM==null){this.parsedFn=new w(this.expressionFn,this.choices,this.pluralOffset,this.pluralCat).parsedFn;this.rule=null;return}if(aM[1]!=null){this.choiceKey=parseInt(aM[1],10)}else{this.choiceKey=aM[2]}this.assertChoiceKeyIsNew(this.choiceKey,aM.index);this.rule=this.ruleMessageText};var F=/\s*{/g;var ar=/}/g;ad.prototype.ruleMessageText=function z(){if(!this.consumeRe(F)){var aM=o(this.text,this.index);throw J("reqopenbrace","The plural choice “{0}” must be followed by a message in braces at line {1}, column {2} in text “{3}”",this.choiceKey,aM.line,aM.column,this.text)}this.msgStartIndex=this.index;this.interpolationParts=new k(this.trustedContext,this.allOrNothing);this.rule=this.ruleInInterpolationOrMessageText};var G=/\\.|{{|}/g;var I=/\\.|{{|#|}/g;var S=/\\.|{{/g;ad.prototype.advanceInInterpolationOrMessageText=function D(){var aN=this.index,aO,aQ;if(this.ruleChoiceKeyword==null){aO=this.searchRe(S);if(aO==null){this.textPart=this.text.substring(aN);this.index=this.text.length;return null}}else{aO=this.searchRe(this.ruleChoiceKeyword==this.rulePluralValueOrKeyword?I:G);if(aO==null){var aM=o(this.text,this.msgStartIndex);throw J("reqendbrace","The plural/select choice “{0}” message starting at line {1}, column {2} does not have an ending closing brace. Text “{3}”",this.choiceKey,aM.line,aM.column,this.text)}}var aP=aO[0];this.textPart=this.text.substring(aN,aO.index);return aP};ad.prototype.ruleInInterpolationOrMessageText=function i(){var aM=this.index;var aN=this.advanceInInterpolationOrMessageText();if(aN==null){this.index=this.text.length;this.interpolationParts.addText(this.text.substring(aM));this.rule=null;return}if(aN[0]=="\\"){this.interpolationParts.addText(this.textPart+aN[1]);return}this.interpolationParts.addText(this.textPart);if(aN=="{{"){this.pushState();this.ruleStack.push(this.ruleEndMustacheInInterpolationOrMessage);this.rule=this.ruleEnteredMustache}else{if(aN=="}"){this.choices[this.choiceKey]=this.interpolationParts.toParsedFn(false,this.text);this.rule=this.ruleChoiceKeyword}else{if(aN=="#"){this.interpolationParts.addExpressionFn(this.expressionMinusOffsetFn)}else{this.errorInParseLogic()}}}};ad.prototype.ruleInterpolate=function K(){this.interpolationParts=new k(this.trustedContext,this.allOrNothing);this.rule=this.ruleInInterpolation};ad.prototype.ruleInInterpolation=function aH(){var aM=this.index;var aN=this.searchRe(S);if(aN==null){this.index=this.text.length;this.interpolationParts.addText(this.text.substring(aM));this.parsedFn=this.interpolationParts.toParsedFn(this.mustHaveExpression,this.text);this.rule=null;return}var aO=aN[0];if(aO[0]=="\\"){this.interpolationParts.addText(this.text.substring(aM,aN.index)+aO[1]);return}this.interpolationParts.addText(this.text.substring(aM,aN.index));this.pushState();this.ruleStack.push(this.ruleInterpolationEndMustache);this.rule=this.ruleEnteredMustache};ad.prototype.ruleInterpolationEndMustache=function ag(){var aM=this.parsedFn;this.popState();this.interpolationParts.addExpressionFn(aM);this.rule=this.ruleInInterpolation};ad.prototype.ruleEnteredMustache=function c(){this.parsedFn=null;this.ruleStack.push(this.ruleEndMustache);this.rule=this.ruleAngularExpression};ad.prototype.ruleEndMustacheInInterpolationOrMessage=function H(){var aM=this.parsedFn;this.popState();this.interpolationParts.addExpressionFn(aM);this.rule=this.ruleInInterpolationOrMessageText};var L=/\s*}}/g;ad.prototype.ruleEndMustache=function aj(){var aN=this.matchRe(L);if(aN==null){var aM=o(this.text,this.index);throw J("reqendinterp","Expecting end of interpolation symbol, “{0}”, at line {1}, column {2} in text “{3}”","}}",aM.line,aM.column,this.text)}if(this.parsedFn==null){this.parsedFn=this.$parse(this.expressionFn,this.stringifier);this.parsedFn.exp=this.expressionFn.exp;this.parsedFn.expressions=this.expressionFn.expressions}this.rule=null};ad.prototype.ruleAngularExpression=function m(){this.angularOperatorStack=[];this.expressionStartIndex=this.index;this.rule=this.ruleInAngularExpression};function b(aM){switch(aM){case"{":return"}";case"[":return"]";case"(":return")";default:return null}}function R(aM){switch(aM){case"}":return"{";case"]":return"[";case")":return"(";default:return null}}var Q=/[[\]{}()'",]/g;ad.prototype.ruleInAngularExpression=function P(){var aR=this.index;var aQ=this.searchRe(Q);var aM;if(aQ==null){if(this.angularOperatorStack.length===0){this.index=this.text.length;this.expressionFn=this.$parse(this.text.substring(this.expressionStartIndex,this.index));this.expressionFn.exp=this.text.substring(this.expressionStartIndex,this.index);this.expressionFn.expressions=this.expressionFn.expressions;this.rule=null;return}var aO=this.angularOperatorStack[0];throw J("badexpr","Unexpected end of Angular expression.  Expecting operator “{0}” at the end of the text “{1}”",this.getEndOperator(aO),this.text)}var aN=aQ[0];if(aN=="'"||aN=='"'){this.ruleStack.push(this.ruleInAngularExpression);this.startStringAtMatch(aQ);return}if(aN==","){if(this.trustedContext){aM=o(this.text,this.index);throw J("unsafe","Use of select/plural MessageFormat syntax is currently disallowed in a secure context ({0}).  At line {1}, column {2} of text “{3}”",this.trustedContext,aM.line,aM.column,this.text)}if(this.angularOperatorStack.length===0){this.expressionFn=this.$parse(this.text.substring(this.expressionStartIndex,aQ.index));this.expressionFn.exp=this.text.substring(this.expressionStartIndex,aQ.index);this.expressionFn.expressions=this.expressionFn.expressions;this.rule=null;this.rule=this.rulePluralOrSelect}return}if(b(aN)!=null){this.angularOperatorStack.unshift(aN);return}var aP=R(aN);if(aP==null){this.errorInParseLogic()}if(this.angularOperatorStack.length>0){if(aP==this.angularOperatorStack[0]){this.angularOperatorStack.shift();return}aM=o(this.text,this.index);throw J("badexpr","Unexpected operator “{0}” at line {1}, column {2} in text. Was expecting “{3}”. Text: “{4}”",aN,aM.line,aM.column,b(this.angularOperatorStack[0]),this.text)}this.index=aQ.index;this.expressionFn=this.$parse(this.text.substring(this.expressionStartIndex,this.index));this.expressionFn.exp=this.text.substring(this.expressionStartIndex,this.index);this.expressionFn.expressions=this.expressionFn.expressions;this.rule=null};var af=["$parse","$locale","$sce","$exceptionHandler",function s(aR,aP,aM,aQ){function aN(aT,aU,aV){return function aS(aX){try{aX=aT?aM.getTrusted(aT,aX):aM.valueOf(aX);return aU&&(aX===void 0)?aX:U(aX)}catch(aW){aQ(J.interr(aV,aW))}}}function aO(aW,aT,aU,aV){var aS=aN(aU,aV,aW);var aX=new ad(aW,0,aR,aP.pluralCat,aS,aT,aU,aV);aX.run(aX.ruleInterpolate);return aX.parsedFn}return{interpolate:aO}}];var az=["$$messageFormat","$delegate",function az(aN,aO){if(aO.startSymbol()!="{{"||aO.endSymbol()!="}}"){throw J("nochgmustache","angular-message-format.js currently does not allow you to use custom start and end symbols for interpolation.")}var aM=aN.interpolate;aM.startSymbol=aO.startSymbol;aM.endSymbol=aO.endSymbol;return aM}];var J;var av;var an;var aG;var aJ=aC.angular["module"]("ngMessageFormat",["ng"]);aJ.factory("$$messageFormat",af);aJ.config(["$provide",function(aM){J=aC.angular["$interpolateMinErr"];av=aC.angular["isFunction"];an=aC.angular["noop"];aG=aC.angular["toJson"];aM.decorator("$interpolate",az)}])})(window,window.angular);