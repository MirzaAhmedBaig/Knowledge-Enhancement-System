function MediumButton(a){if(a.label===undefined||!/\S{1}/.test(a.label)||a.start===undefined||!/\S{1}/.test(a.start)||a.end===undefined||!/\S{1}/.test(a.end)){if(a.label===undefined||!/\S{1}/.test(a.label)||a.action===undefined||!/\S{1}/.test(a.action)){console.error('[Custom-Button] You need to specify "label", "start" and "end" OR "label" and "action"');return}}a.start=(a.start===undefined)?"":a.start;a.end=(a.end===undefined)?"":a.end;this.options=a;this.button=document.createElement("button");this.button.className="medium-editor-action";this.button.innerHTML=a.label;this.button.onclick=function(){var d=getCurrentSelection(),f=window.getSelection();var h=true;if(a.start===undefined||d.indexOf(a.start)==-1&&d.indexOf(a.end)==-1){if(a.action!=undefined){d=a.action(d,true)}d=a.start+d+a.end}else{if(a.action!=undefined){d=a.action(d,false)}d=String(d).split(a.start).join("");d=String(d).split(a.end).join("")}var c;if(f.getRangeAt&&f.rangeCount){c=window.getSelection().getRangeAt(0);c.deleteContents();if(c.createContextualFragment){fragment=c.createContextualFragment(d)}else{var g=document.createElement("div");g.innerHTML=d;fragment=document.createDocumentFragment();while((child=g.firstChild)){fragment.appendChild(child)}}var b=fragment.firstChild;var e=fragment.lastChild;c.insertNode(fragment);if(b){c.setStartBefore(b);c.setEndAfter(e)}f.removeAllRanges();f.addRange(c)}}}MediumButton.prototype.getButton=function(){return this.button};MediumButton.prototype.checkState=function(b){var a=getCurrentSelection();if(this.options.start!=""&&a.indexOf(this.options.start)>-1&&a.indexOf(this.options.end)>-1){this.button.classList.add("medium-editor-button-active")}};function getCurrentSelection(){var d="",e;if(typeof window.getSelection!="undefined"){e=window.getSelection();if(e.rangeCount){var b=document.createElement("div");for(var c=0,a=e.rangeCount;c<a;++c){b.appendChild(e.getRangeAt(c).cloneContents())}d=b.innerHTML}}else{if(typeof document.selection!="undefined"){if(document.selection.type=="Text"){d=document.selection.createRange().htmlText}}}return d};