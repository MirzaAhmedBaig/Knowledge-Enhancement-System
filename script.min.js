(function(){$(window).scroll(function(){var a=$(document).scrollTop();$(".splash").css({"background-position":"0px -"+(a/3).toFixed(2)+"px"});if(a>50){$("#home").find("> .navbar").removeClass("navbar-transparent")}else{$("#home").find("> .navbar").addClass("navbar-transparent")}})})();var mainApp=angular.module("mainApp",["ngRoute"]);mainApp.config(["$routeProvider",function(a){a.when("/",{templateUrl:"login.htm",controller:"LoginController"}).when("/register",{templateUrl:"register.htm",controller:"RegisterController"}).otherwise({redirectTo:"/"})}]);mainApp.controller("LoginController",["$scope","$http",function(a,b){a.pass="";a.error="";a.kesid="";a.isValid=function(){return a.kesid!=null&&a.kesid!=""&&a.pass!=null&&a.pass!=""};a.login=function(){event.preventDefault();var d=$.param({eid:a.kesid,pass:a.pass});var c={headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;"}};b.post("/private/operations/login.php",d,c).success(function(e){if(e.t=="s"){location.reload()}else{a.error=e.r}})}}]);mainApp.controller("RegisterController",["$scope","$http","$location",function(a,d,b,c){a.error1="";a.error2="";a.error3="";a.error4="";a.error5="";a.error6="";a.error7="";a.error8="";a.name="";a.eid="";a.pass="";a.cpass="";a.mob="";a.udob="";a.street="";a.city="";a.country="";a.kesid="";a.captcha_code="";a.isRegistered=false;a.isValid=function(){var e=/[A-Z0-9\._%+-]+@[A-Z0-9_-]+\.[A-Z]{2,4}/igm;return a.name!=null&&a.name!=""&&a.pass!=null&&a.pass!=""&&a.cpass!=null&&a.cpass!=""&&e.test(a.eid)&&a.udob!=null&&a.udob!=""&&a.city!=null&&a.city!=""&&a.street!=null&&a.street!=""&&a.country!=null&&a.country!=""&&a.kesid!=null&&a.kesid!=""&&a.captcha_code!=null&&a.captcha_code!=""};a.register=function(){event.preventDefault();a.isRegistered=true;return;var i=/^(?=.*[0-9])(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,16}$/;var j=/^[a-zA-Z]*$/;var g=/^[0-9]{10}$/;if(a.name.length<3){a.error4="at least 3 char.";return}else{if(!g.test(a.mob)){a.error5="Please enter a valid mobile number.";return}else{if(!(i.test(a.pass))){a.error2="password contain at least 8 letter having at least on character, one number and any of @_-#$";return}else{if(a.pass!=a.cpass){a.error2="Password not matched...!";return}else{if(!j.test(a.city)){a.error6="enter valid city...!";return}else{if(!j.test(a.country)){a.error7="enter valid country...!";return}}}}}}var f=document.getElementById("dob").value;var h=$.param({id:a.kesid,pass:a.pass,name:a.name,nname:a.nname,dob:f,eid:a.eid,mob:a.mob,street:a.street,city:a.city,country:a.country,cap:a.captcha_code});var e={headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8;"}};d.post("/private/operations/register.php",h,e).success(function(k){if(k.t=="x"){a.error3=k.r;a.error1=""}else{if(k.t=="s"){}else{a.error1=k.r;a.error3=""}}})}}]);